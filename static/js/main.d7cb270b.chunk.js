(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,function(e,n,t){},,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var i=t(0),r=t(1),a=t.n(r),c=t(6),o=t.n(c),u=(t(12),t(13),t(2)),s="notStarted",l="running",f="won",d="lost";t(5);function g(e){return Object(i.jsx)("button",{className:"digital-number",children:e.value})}function h(e){return Object(i.jsxs)("div",{children:[Object(i.jsx)(g,{value:e.minesLeft}),Object(i.jsx)(v,{status:e.gameStatus,onClickHandler:e.resetHandler,isClicking:e.isClicking}),Object(i.jsx)(g,{value:e.timer})]})}function v(e){return Object(i.jsx)("button",{onClick:e.onClickHandler,children:e.isClicking?"\ud83d\ude32":(n=e.status,n===d?"\ud83d\ude1e":n===f?"\ud83d\ude0e":"\ud83d\ude0a")});var n}t(14);var j=t(3);function b(e){var n=e.data.isCovered?"cell":"uncovered-cell",t=e.data.isCovered||e.isMine?"":"cell-".concat(e.data.neighboringMines),r=!e.data.isCovered&&e.isMine?"cell-mine":"",a=e.data.isCovered?e.data.flagged?"\ud83d\udea9":"":e.data.isMine?"\ud83d\udca3":e.data.neighboringMines>0?e.data.neighboringMines:"",c=e.data.clickedMine?"clicked-mine":"";return Object(i.jsx)("button",{className:"".concat(n," ").concat(t," ").concat(r," ").concat(c),onClick:function(){return e.handleLeftClick(e.data)},onContextMenu:function(n){return e.handleRightClick(e.data,n)},children:a})}function m(e){var n=Object(r.useState)(e.grid),t=Object(u.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(e.refresh),s=Object(u.a)(o,2),l=s[0],g=s[1];function h(n,t){t.preventDefault(),e.cellGotClicked();var i=[n.x,n.y],r=i[0],o=i[1];if(a[r][o].isCovered&&!e.gameOver){var u=a.map((function(e){return e.map((function(e){return Object(j.a)({},e)}))}));u[r][o].flagged=!u[r][o].flagged,v(u)&&e.setGameEnd(f),c(u),e.cellGotFlagged(u[r][o].flagged)}}l!==e.refresh&&(g(e.refresh),c(e.grid));var v=function(e){return e.reduce((function(e,n){return e&&n.reduce((function(e,n){return e&&(n.isMine&&n.flagged||!n.isCovered)}),!0)}),!0)};function m(n){var t=[n.x,n.y],i=t[0],r=t[1];if(e.cellGotClicked(),a[i][r].isCovered&&!a[i][r].flagged&&!e.gameOver)if(a[i][r].isMine){var o=a.map((function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{isCovered:!e.isMine&&e.isCovered})}))}));o[i][r].clickedMine=!0,c(o),e.setGameEnd(d)}else{var s=a.map((function(e){return e.map((function(e){return Object(j.a)({},e)}))}));s[i][r].isCovered=!1,0===a[i][r].neighboringMines?function(e,n){var t=[[n.x,n.y]],i=0,r=e.length,a=e[0].length;for(;t.length>0;){for(var o=t.length,s=0;s<o;s++)for(var l=t.shift(),f=Object(u.a)(l,2),d=f[0],g=f[1],h=Math.max(0,d-1);h<Math.min(r,d+2);++h)for(var v=Math.max(0,g-1);v<Math.min(a,g+2);++v)e[h][v].isMine||!e[h][v].isCovered||e[h][v].flagged||(e[h][v].isCovered=!1,0===e[h][v].neighboringMines&&t.push([h,v]));setTimeout((function(e){c(e)}),50*i++,e)}}(s,n):c(s),v(s)&&e.setGameEnd(f)}}return a.map((function(e,n){return Object(i.jsx)("div",{className:"row",children:e.map((function(e,n){return Object(i.jsx)(b,{data:e,handleLeftClick:m,handleRightClick:h},n)}))},n)}))}function O(e,n,t){return function(e){function n(n,t){for(var i=0,r=Math.max(0,n-1);r<Math.min(e.length,n+2);++r)for(var a=Math.max(0,t-1);a<Math.min(e[r].length,t+2);++a)e[r][a].isMine&&i++;return i}for(var t=0;t<e.length;++t)for(var i=0;i<e[t].length;++i)e[t][i].neighboringMines=n(t,i);return e}(function(e){for(var n=e.length,t=e[0].length,i=0;i<n;++i)for(var r=0;r<t;++r){var a=Math.floor(Math.random()*n*t),c=Math.floor(a/t),o=a%t,u=[e[c][o],e[i][r]];e[i][r]=u[0],e[c][o]=u[1]}return e}(function(e,n){for(var t=0;t<e.length&&n;++t)for(var i=0;i<e[t].length&&n;++i,--n)e[t][i]={isMine:!0};return e}(function(e,n){for(var t=[],i=0;i<e;i++){t[i]=[];for(var r=0;r<n;r++)t[i][r]={isMine:!1}}return t}(e,n),t))).map((function(e,n){return e.map((function(e,t){return{isCovered:!0,isMine:e.isMine,neighboringMines:e.neighboringMines,x:n,y:t}}))}))}var M=function(e){var n=Object(r.useState)(40),t=Object(u.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(s),g=Object(u.a)(o,2),v=g[0],j=g[1],b=Object(r.useState)(O(20,20,40)),M=Object(u.a)(b,2),C=M[0],x=M[1],p=Object(r.useState)(!1),k=Object(u.a)(p,2),S=k[0],w=k[1],G=Object(r.useState)(!1),L=Object(u.a)(G,2),E=L[0],F=L[1],T=function(e,n){var t=Object(r.useState)(0),i=Object(u.a)(t,2),a=i[0],c=i[1];return Object(r.useEffect)((function(){var t=null;return e&&!t?t=setTimeout((function(){c((function(e){return e+1}))}),1e3):t&&clearTimeout(t),n&&c(0),function(){return clearTimeout(t)}}),[a,e,n]),a}(v===l,v===s);return Object(i.jsxs)("div",{className:"minesweeper",children:[Object(i.jsx)("div",{children:Object(i.jsx)(h,{minesLeft:a,timer:T,gameStatus:v,isClicking:E,resetHandler:function(){j(s),x(O(20,20,40)),c(40),w(!S)}})}),Object(i.jsx)("div",{onMouseDown:function(){return F(!0)},onMouseUp:function(){return F(!1)},onMouseLeave:function(){return F(!1)},children:Object(i.jsx)(m,{refresh:S,grid:C,height:20,width:20,minesCount:40,gameOver:v===f||v===d,cellGotFlagged:function(e){c(e?a-1:a+1)},cellGotClicked:function(){v===s&&j(l)},setGameEnd:function(e){j(e)}})})]})};var C=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(M,{})})},x=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),i(e),r(e),a(e),c(e)}))};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(C,{})}),document.getElementById("root")),x(console.log)}],[[15,1,2]]]);
//# sourceMappingURL=main.d7cb270b.chunk.js.map