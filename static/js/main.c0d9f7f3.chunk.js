(this.webpackJsonpminesweeper=this.webpackJsonpminesweeper||[]).push([[0],[,,,,,,,,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var i=t(0),r=t(1),a=t.n(r),c=t(5),o=t.n(c),u=(t(11),t(12),t(2)),s="notStarted",l="running",d="won",f="lost",g=[{id:0,text:"Beginner",height:10,width:10,minesCount:10},{id:1,text:"Intermediate",height:16,width:16,minesCount:44},{id:2,text:"Expert",height:30,width:30,minesCount:100}];t(13);function h(e){var n=""+e.value;return Object(i.jsx)("div",{className:"digital-counter",children:n.padStart(3,"0")})}function v(e){return Object(i.jsxs)("div",{className:"scoreboard",children:[Object(i.jsx)(h,{value:e.minesLeft}),Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{className:"select-wrap",children:Object(i.jsx)("select",{onChange:function(n){return e.levelChangeHandler(n.target.value)},value:e.level,children:g.map((function(e){return Object(i.jsxs)("option",{value:e.id,children:[" ",e.text," "]},e.id)}))})}),Object(i.jsx)(j,{status:e.gameStatus,onClickHandler:e.resetHandler,isClicking:e.isClicking})]}),Object(i.jsx)(h,{value:e.timer})]})}function j(e){return Object(i.jsx)("button",{className:"reset",onClick:e.onClickHandler,children:e.isClicking?"\ud83d\ude32":(n=e.status,n===f?"\ud83d\ude1e":n===d?"\ud83d\ude0e":"\ud83d\ude0a")});var n}t(14),t(15);var m=t(3);function b(e){var n=e.data.isCovered?"cell":"uncovered-cell",t=e.data.isCovered||e.isMine?"":"cell-".concat(e.data.neighboringMines),r=!e.data.isCovered&&e.isMine?"cell-mine":"",a=e.data.isCovered?e.data.flagged?"\ud83d\udea9":"":e.data.isMine?"\ud83d\udca3":e.data.neighboringMines>0?e.data.neighboringMines:"",c=e.data.clickedMine?"clicked-mine":"";return Object(i.jsx)("button",{className:"".concat(n," ").concat(t," ").concat(r," ").concat(c),onClick:function(){return e.handleLeftClick(e.data)},onContextMenu:function(n){return e.handleRightClick(e.data,n)},children:a})}function O(e){var n=Object(r.useState)(e.grid),t=Object(u.a)(n,2),a=t[0],c=t[1],o=Object(r.useState)(e.refresh),s=Object(u.a)(o,2),l=s[0],g=s[1];function h(n,t){t.preventDefault(),e.cellGotClicked();var i=[n.x,n.y],r=i[0],o=i[1];if(a[r][o].isCovered&&!e.gameOver){var u=a.map((function(e){return e.map((function(e){return Object(m.a)({},e)}))}));u[r][o].flagged=!u[r][o].flagged,v(u)&&e.setGameEnd(d),c(u),e.cellGotFlagged(u[r][o].flagged)}}l!==e.refresh&&(g(e.refresh),c(e.grid));var v=function(e){return e.reduce((function(e,n){return e&&n.reduce((function(e,n){return e&&(n.isMine&&n.flagged||!n.isCovered)}),!0)}),!0)};function j(n){var t=[n.x,n.y],i=t[0],r=t[1];if(e.cellGotClicked(),a[i][r].isCovered&&!a[i][r].flagged&&!e.gameOver)if(a[i][r].isMine){var o=a.map((function(e){return e.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{isCovered:!e.isMine&&e.isCovered})}))}));o[i][r].clickedMine=!0,c(o),e.setGameEnd(f)}else{var s=a.map((function(e){return e.map((function(e){return Object(m.a)({},e)}))}));s[i][r].isCovered=!1,0===a[i][r].neighboringMines?function(e,n){var t=[[n.x,n.y]],i=0,r=e.length,a=e[0].length;for(;t.length>0;){for(var o=t.length,s=0;s<o;s++)for(var l=t.shift(),d=Object(u.a)(l,2),f=d[0],g=d[1],h=Math.max(0,f-1);h<Math.min(r,f+2);++h)for(var v=Math.max(0,g-1);v<Math.min(a,g+2);++v)e[h][v].isMine||!e[h][v].isCovered||e[h][v].flagged||(e[h][v].isCovered=!1,0===e[h][v].neighboringMines&&t.push([h,v]));setTimeout((function(e){c(e)}),50*i++,e)}}(s,n):c(s),v(s)&&e.setGameEnd(d)}}return a.map((function(e,n){return Object(i.jsx)("div",{className:"row",children:e.map((function(e,n){return Object(i.jsx)(b,{data:e,handleLeftClick:j,handleRightClick:h},n)}))},n)}))}function C(e,n,t){return function(e){function n(n,t){for(var i=0,r=Math.max(0,n-1);r<Math.min(e.length,n+2);++r)for(var a=Math.max(0,t-1);a<Math.min(e[r].length,t+2);++a)e[r][a].isMine&&i++;return i}for(var t=0;t<e.length;++t)for(var i=0;i<e[t].length;++i)e[t][i].neighboringMines=n(t,i);return e}(function(e){for(var n=e.length,t=e[0].length,i=0;i<n;++i)for(var r=0;r<t;++r){var a=Math.floor(Math.random()*n*t),c=Math.floor(a/t),o=a%t,u=[e[c][o],e[i][r]];e[i][r]=u[0],e[c][o]=u[1]}return e}(function(e,n){for(var t=0;t<e.length&&n;++t)for(var i=0;i<e[t].length&&n;++i,--n)e[t][i]={isMine:!0};return e}(function(e,n){for(var t=[],i=0;i<e;i++){t[i]=[];for(var r=0;r<n;r++)t[i][r]={isMine:!1}}return t}(e,n),t))).map((function(e,n){return e.map((function(e,t){return{isCovered:!0,isMine:e.isMine,neighboringMines:e.neighboringMines,x:n,y:t}}))}))}var M=function(){var e=Object(r.useState)(g[0]),n=Object(u.a)(e,2),t=n[0],a=n[1],c=Object(r.useState)(t.minesCount),o=Object(u.a)(c,2),h=o[0],j=o[1],m=Object(r.useState)(s),b=Object(u.a)(m,2),M=b[0],x=b[1],p=Object(r.useState)(C(t.height,t.width,t.minesCount)),k=Object(u.a)(p,2),S=k[0],w=k[1],G=Object(r.useState)(!1),N=Object(u.a)(G,2),E=N[0],L=N[1],F=Object(r.useState)(!1),H=Object(u.a)(F,2),T=H[0],y=H[1],B=function(e,n){var t=Object(r.useState)(0),i=Object(u.a)(t,2),a=i[0],c=i[1];return Object(r.useEffect)((function(){var t=null;return e&&!t?t=setTimeout((function(){c((function(e){return e+1}))}),1e3):t&&clearTimeout(t),n&&c(0),function(){return clearTimeout(t)}}),[a,e,n]),a}(M===l,M===s);function D(){x(s),j(t.minesCount),w(C(t.height,t.width,t.minesCount)),L((function(e){return!e}))}return Object(r.useEffect)(D,[t]),Object(i.jsxs)("div",{className:"minesweeper",children:[Object(i.jsx)(v,{minesLeft:h,timer:B,gameStatus:M,level:t.id,levelChangeHandler:function(e){e!==t&&a(g[e])},isClicking:T,resetHandler:D}),Object(i.jsx)("div",{className:"grid",onMouseDown:function(){return y(!0)},onMouseUp:function(){return y(!1)},onMouseLeave:function(){return y(!1)},children:Object(i.jsx)(O,{refresh:E,grid:S,gameOver:M===d||M===f,cellGotFlagged:function(e){j(e?h-1:h+1)},cellGotClicked:function(){M===s&&x(l)},setGameEnd:function(e){x(e)}})})]})};var x=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(M,{})})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,17)).then((function(n){var t=n.getCLS,i=n.getFID,r=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),i(e),r(e),a(e),c(e)}))};o.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(x,{})}),document.getElementById("root")),p(console.log)}],[[16,1,2]]]);
//# sourceMappingURL=main.c0d9f7f3.chunk.js.map